{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { IOEndpoint, IOOptions, IOPromise } from 'type-r'\r\n\r\nexport function create(){\r\n    return new AttributesEndpoint();\r\n}\r\n\r\nexport { create as attributesIO };\r\n\r\nexport class AttributesEndpoint implements IOEndpoint {\r\n    create( json, options : IOOptions ) : IOPromise<any> {\r\n        throw new Error( 'Method is not supported.' );        \r\n    }\r\n\r\n    update( id, json, options : IOOptions ) : IOPromise<any> {\r\n        throw new Error( 'Method is not supported.' );        \r\n    }\r\n\r\n    read( id, options : IOOptions, record ) : IOPromise<any> {\r\n        const names = record.keys().filter( name => record[ name ] && record[ name ].fetch ),\r\n            promises = names.map( name => record[ name ].fetch( options ) ),\r\n            promise : IOPromise<any> = Promise.all( promises ).then( () => {} );\r\n\r\n        promise.abort = function(){\r\n            promises.forEach( x => x.abort && x.abort() );\r\n        }\r\n\r\n        return promise;\r\n    }\r\n\r\n    destroy( id, options : IOOptions ) : IOPromise<any> {\r\n        throw new Error( 'Method is not supported.' );        \r\n    }\r\n\r\n    list( options? : IOOptions ) : IOPromise<any> {\r\n        throw new Error( 'Method is not supported.' );\r\n    }\r\n\r\n    subscribe( events ) : any {}\r\n    unsubscribe( events) : any {}\r\n}\r\n\r\ndeclare var Promise;"],"names":["create","AttributesEndpoint","json","options","Error","id","record","promises","keys","filter","name","fetch","map","promise","Promise","all","then","abort","forEach","x","events"],"mappings":"kNAEgBA,IACZ,OAAO,IAAIC,mBAKf,cA+BA,OA9BIA,mBAAA,SAAQC,EAAMC,GACV,MAAM,IAAIC,MAAO,6BAGrBH,mBAAA,SAAQI,EAAIH,EAAMC,GACd,MAAM,IAAIC,MAAO,6BAGrBH,iBAAA,SAAMI,EAAIF,EAAqBG,GAC3B,IACIC,EADUD,EAAOE,OAAOC,OAAQ,SAAAC,GAAQ,OAAAJ,EAAQI,IAAUJ,EAAQI,GAAOC,QACxDC,IAAK,SAAAF,GAAQ,OAAAJ,EAAQI,GAAOC,MAAOR,KACpDU,EAA2BC,QAAQC,IAAKR,GAAWS,KAAM,cAM7D,OAJAH,EAAQI,MAAQ,WACZV,EAASW,QAAS,SAAAC,GAAK,OAAAA,EAAEF,OAASE,EAAEF,WAGjCJ,GAGXZ,oBAAA,SAASI,EAAIF,GACT,MAAM,IAAIC,MAAO,6BAGrBH,iBAAA,SAAME,GACF,MAAM,IAAIC,MAAO,6BAGrBH,sBAAA,SAAWmB,KACXnB,wBAAA,SAAamB"}