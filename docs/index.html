<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Type-R 4.0 API Reference</title>

    <link rel="icon" href="images/logo-dark.png" />
    <link href="lib/stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="lib/stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="lib/stylesheets/default.css" rel="stylesheet" type="text/css" />

    <style>
      .logo-section img {
        vertical-align: middle;
        margin: 15px;
        height: 48px;
      }

      .logo-section .logo-text {
        vertical-align: middle;
        color: white;
        display: inline-block;
      }

      .logo-section .logo-caption {
        font-size: 28px;
      }

    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="lib/javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          var langs = [];
            langs.push("javascript");
          setupLanguages( langs );
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <div class="logo-section">
        <img src="images/logo.png" />
        <div class="logo-text">
          <div class="logo-caption">Type-R 4.0</div>
          <div>universal state management</div>
        </div>
        
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
                <li><a href="https://github.com/VoliJS/Type-R">GitHub repository</a></li>
                <li><a href="https://github.com/VoliJS/Type-R/issues">Report the bug</a></li>
                <li><a href="https://groups.google.com/forum/#!forum/volicon-open-source">Ask the question</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
        <div class="content">
          
<p><img src="docs/images/overview.png" alt="overview"></p>
<h1 id="type-r-model-framework">Type-R Model Framework</h1>
<p>Type-R is a serializable type system for JS and TS. Data structures you describe with Type-R models are automatically and with zero effort:</p>
<ul>
<li>serializable to and from JSON;</li>
<li>protected from improper assignments at run-time;</li>
<li>deeply observable.</li>
</ul>
<h2 id="features">Features</h2>
<p>Mapping of complex JS types to JSON (such as Date, classes, objects trees with cross-references) is automatic with Type-R which eliminates a possibility of programmer&#39;s mistakes and improves productivity. Less code to write means less things to unit test, less bugs to fix, and less code to read and understand when making changes.</p>
<p>Type-R models safeguard both frontend and backend from errors in JSON. Programmer&#39;s mistake on a frontend can&#39;t affect the JSON sent to the server. Wrong JSON received from the server will be validated, sanitized, and can&#39;t cause catastrophic failures on the frontend. Type-R guarantee that the data structures will retain the declared shape and it immediately reports improper assignments to the console.</p>
<p>There are virtually no point in unit-testing Type-R models as they are mostly declarative definitions. They are able to check the structural integrity themselves, and Type-R can be instructed to throw exceptions instead of console logging. It makes the unit tests of the data layer unnecessary, and greately reduces an effort when writing an integration test.</p>
<h2 id="react-integration">React integration</h2>
<p>Data structures defined with Type-R are deeply observable by default. They can be used to manage the state of React applications right out of box utilizing &quot;unidirectional data flow&quot; with no additional tooling. Type-R data structures support two-way data binding and attribute-level validation rules, making the a complex forms UI a trivial task. Normally, you don&#39;t change your UI code to add validation, just add the validation check to model&#39;s attributes.</p>
<h2 id="example">Example</h2>
<p>The main Type-R building block is the <code>Model</code> class with attributes types declaration which behaves as a regular JS class. Models and collections of models can be nested indefinitely to define data structures of arbitrary complexity.</p>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> { define, Record, Collection } <span class="hljs-keyword">from</span> <span class="hljs-string">'@type-r/models'</span>
<span class="hljs-keyword">import</span> { restfulIO } <span class="hljs-keyword">from</span> <span class="hljs-string">'@type-r/endpoints'</span>

@define <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Record</span> </span>{
    <span class="hljs-keyword">static</span> attributes = {
        <span class="hljs-attr">name</span>  : <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span> : <span class="hljs-string">''</span>
    }
}

@define <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Message</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Record</span> </span>{
    <span class="hljs-keyword">static</span> endpoint = restfulIO( <span class="hljs-string">'/api/messages'</span>, {
        <span class="hljs-comment">// REST I/O is simulated when the mock data is present, that's how you start.</span>
        mockData : [ { <span class="hljs-attr">id</span> : <span class="hljs-number">0</span>, <span class="hljs-attr">createdAt</span> : <span class="hljs-string">"1999-07-25T03:33:29.687Z"</span>, <span class="hljs-attr">author</span> : {}, <span class="hljs-attr">to</span> : [] }]
    } );

    <span class="hljs-keyword">static</span> attributes = {
        <span class="hljs-attr">createdAt</span> : <span class="hljs-built_in">Date</span>,
        <span class="hljs-attr">author</span>  : User, <span class="hljs-comment">// aggregated User record.</span>
        to      : Collection.of( User ), <span class="hljs-comment">// aggregated collection of users</span>
        subject : <span class="hljs-string">''</span>,
        <span class="hljs-attr">body</span>    : <span class="hljs-string">''</span>
    }
}

<span class="hljs-keyword">const</span> messages = Collection.of( Message ).create();

<span class="hljs-keyword">await</span> messages.fetch({ <span class="hljs-attr">params</span> : { <span class="hljs-attr">page</span> : <span class="hljs-number">0</span> }});

<span class="hljs-keyword">const</span> msg = messages.first();
msg.author.name = <span class="hljs-string">'Alan Poe'</span>;
msg.subject = <span class="hljs-string">'Nevermore'</span>;

<span class="hljs-keyword">await</span> msg.save();
</code></pre>
<h2 id="api-reference-and-docs"><a href="https://volijs.github.io/Type-R/">API reference and docs</a></h2>
<h2 id="installation-and-requirements">Installation and requirements</h2>
<aside class="success">IE10+, Edge, Safari, Chrome, and Firefox are supported</aside>

<aside class="warning">IE9 and Opera may work but has not been tested. IE8 won't work.</aside>

<p>Install Type-R models and built-in set of I/O endpoints (restfulIO, localStorageIO, and memoryIO):</p>
<p><code>npm install @type-r/models @type-r/endpoints</code></p>
<p>Install React bindings:</p>
<p><code>npm install @type-r/react</code></p>
<p>Install extended data types (Email, URL, IP, Integer, Microsoft date, UNIX Timestamp date):</p>
<p><code>npm install @type-r/ext-types</code></p>
<h2 id="monorepository-packages-structure">Monorepository packages structure</h2>
<p>Core packages:</p>
<ul>
<li><code>models</code> - Type-R framework core.</li>
<li><code>endpoints</code> - Type-R endpoints enabling models and collections I/O API.</li>
<li><code>react</code> - Type-R React bindings.</li>
<li><p><code>ext-types</code> - Extended data types.</p>
</li>
<li><p><code>globals</code> - provides backward compatibility for apps written with Type-R v2.</p>
</li>
<li><p><code>mixture</code> - Events, Mixins, and log router. Used by <code>@type-r/models</code>.</p>
</li>
<li><code>tests</code> - private package containing all the unit tests.</li>
<li><code>examples/*</code> - example <code>@type-r/react</code> apps.</li>
</ul>
<h1 id="model-transactional-core">Model transactional core</h1>
<h2 id="dependencies">Dependencies</h2>
<pre><code>    index.ts 
↑        ↑       
|        |       
|    define.ts   
|        ↑          basicTypes.ts
|        |        ↗
|      attribute.ts → nestedTypes.ts
|       ↑        /
|       |       /
transactions.ts

</code></pre><h1 id="transactional-collections-core-implementation">Transactional collections core implementation</h1>
<p>Collection implements two-phase commit transactions,
and core manipulation methods.</p>
<h2 id="folder-structure-and-dependencies">Folder structure and dependencies</h2>
<pre><code>       index.ts
     ↗    ↑     ↖ 
add.ts remove.ts <span class="hljs-keyword">set</span>.ts
     ↖    ↑     ↗
       commons.ts
          ↑
  ../model/index.ts



</code></pre><h1 id="normalized-data">Normalized data</h1>
<h2 id="stores">Stores</h2>
<h3 id="class-store"><code>class</code> Store</h3>
<h3 id="metatype-collection-subsetof-collection-modelclass-"><code>metatype</code> Collection.subsetOf( collection, ModelClass? )</h3>
<h3 id="metatype-model-memberof-collection-modelclass-"><code>metatype</code> Model.memberOf( collection, ModelClass? )</h3>
<h1 id="react-bindings">React bindings</h1>
<h2 id="local-component-state">Local component state</h2>
<h3 id="hook-usemodel-modelclass-"><code>hook</code> useModel( ModelClass )</h3>
<h3 id="hook-usecollection-of-modelclass-"><code>hook</code> useCollection.of( ModelClass )</h3>
<pre><code class="highlight javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">State</span> </span>= attributes({
    <span class="hljs-attr">counter</span> : <span class="hljs-number">0</span>
});

<span class="hljs-keyword">const</span> StatefulComponent = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> state = useModel( State <span class="hljs-comment">/* any model class */</span> );

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{</span> () =&gt;</span> state.counter++ }&gt;
            { state.counter }
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
    );
}
</code></pre>
<pre><code class="highlight javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> </span>= attributes({
    <span class="hljs-attr">counter</span> : <span class="hljs-number">0</span>
});

<span class="hljs-keyword">const</span> StatefulComponent = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> counters = useCollection.of( Counter );

    <span class="hljs-keyword">const</span> selected = useCollection.subsetOf( counters );

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{ user.counter }<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{</span> () =&gt;</span> user.counter++ }&gt;Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}
</code></pre>
<h2 id="data-binding">Data binding</h2>
<h3 id="class-linked"><code>class</code> Linked</h3>
<h3 id="hook-uselinked-value-"><code>hook</code> useLinked( value )</h3>
<pre><code class="highlight javascript"><span class="hljs-keyword">const</span> StatefulDataBound = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// Obtain linked local state.</span>
    <span class="hljs-keyword">const</span> $name = useLinked( <span class="hljs-string">''</span> );

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> {<span class="hljs-attr">...</span>$<span class="hljs-attr">name.props</span>} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    )
}
</span>
</code></pre>
<h3 id="model-">model.$</h3>
<pre><code class="highlight javascript">@define <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span> </span>{
    <span class="hljs-keyword">static</span> attributes = {
        <span class="hljs-attr">name</span> : <span class="hljs-string">''</span>,
        <span class="hljs-attr">author</span> : <span class="hljs-string">''</span>
    }
}

<span class="hljs-keyword">const</span> EditBook = <span class="hljs-function">(<span class="hljs-params">{ book }</span>) =&gt;</span> {
    <span class="hljs-comment">// Obtain linked model attributes.</span>
    <span class="hljs-keyword">const</span> { name, author } = book.$;

    <span class="hljs-keyword">return</span> (
        &lt;div&gt;
            &lt;input {...name.props} /&gt;
            &lt;input {...author.props} /&gt;
        &lt;/div&gt;
    )
}
</code></pre>
<h3 id="collection-includes-model-">collection.$includes( model )</h3>
<h3 id="static-linked-value-value-set-"><code>static</code> Linked.value( value, set )</h3>
<h2 id="normalized-data-and-stores">Normalized data and stores</h2>
<p><code>Store</code> is the subclass of <code>Model</code> used as a root to resolve id-references in &#39;normalized data structures&#39;, when 
the data is represented as a set of collections with items referencing each other by id. If you don&#39;t have normalized data structures, you don&#39;t need <code>Store</code>.</p>
<p>Attributes of types <code>Model.memberOf( &#39;store.someCollection&#39; )</code> and <code>Collection.subsetOf( &#39;store.someCollection&#39; )</code>
will resolve model ids to the models taken from <code>someCollection</code> belonging to the closest <code>Store</code> model. The closest
store is located as follows:</p>
<p>1) The first <code>Store</code> from the model&#39;s owners chain is taken first.
2) If there are no such a collection in it, the next <code>Store</code> class in ownership chain is taken.
3) If there are no stores left in the ownerhip chain, the <code>Store.global</code> is used.</p>
<p>From the particular model&#39;s view, there&#39;s a single <code>store</code> namespace which is defined by <code>Store.global</code> and
extended by upper stores in its ownership chain.</p>
<p>In <code>@type-r/react</code>, you can create the store as a local component state, and expose it down to the component subtree
so its children can opt to use this context store for id resolutions in their local state models.</p>
<p>That leads to a multi-tier store achitecture where the next tier store may override upper store collections and extend it with new collections.</p>
<ul>
<li>Tier 1. <code>Store.global</code> holds the state which is shared across all SPA pages.</li>
<li>Tier 2. Page component stores holds the state which is related to particular pages.</li>
<li>Tier 3. Particular components might add their local stores extending the namespace created by upper stores.</li>
</ul>
<p>Stores</p>
<pre><code class="highlight javascript"><span class="hljs-keyword">const</span> X = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> state = useModel( State );
    useContextStore( state );
}
</code></pre>
<p>@type-r/react examples.</p>
<h1 id="mixture">Mixture</h1>
<h2 id="getting-started">Getting started</h2>
<p>Type-R Mixture is the toolkit combining React-style mixins, Backbone-style events, and minimal set of Underscore-style object manipulation functions.</p>
<p>Written in TypeScript, works with ES5, ES6, and TypeScript.</p>
<h3 id="installation">Installation</h3>
<p><code>npm install @type-r/mixture</code></p>
<h3 id="features">Features</h3>
<ul>
<li><code>Mixable</code>, React-style mixins.<ul>
<li>Fine-grained control over member merge rules.</li>
<li>Can mix both classes and plain objects.</li>
<li>Works with and without ES6 class decorators.</li>
</ul>
</li>
<li><code>Messenger</code>, synchronous events.<ul>
<li>Can be used as mixin and as a base class.</li>
<li>100% backward API compatibility with <a href="http://backbonejs.org/#Events">Backbone Events</a> (passes Backbone 1.2.x unit test)</li>
<li>Much faster than Backbone events.</li>
</ul>
</li>
<li><code>Logger</code>, thin but powerful logging abstraction build on top of <code>Messenger</code>. Defaults to the <code>console</code>.</li>
<li>Minimal set of speed-optimized underscore-style object manipulation tools (<code>assign</code>, <code>defaults</code>, <code>mapObject</code>, etc).</li>
</ul>
<h2 id="mixins">Mixins</h2>
<p>Both plain JS object and class constructor may be used as mixins. In the case of the class constructor, missing static members will copied over as well.</p>
<p>You need to import <code>mixins</code> decorator to use mixins:</p>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> { mixins } <span class="hljs-keyword">from</span> <span class="hljs-string">'@type-r/mixture'</span>

...

@mixins( plainObject, MyClass, ... )
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span> </span>{
    ...
}
</code></pre>
<h3 id="merge-rules-and-react-compatibility">Merge Rules and React Compatibility</h3>
<p>Mixture implements <em>configurable</em> merge rules, which allows to add standard React mixins functionality to the ES6 React Components.</p>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Mixable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@type-r/mixture'</span>

<span class="hljs-comment">// Make React.Component mixable...</span>
Mixable.mixTo( React.Component );

<span class="hljs-comment">// Define lifecycle methods merge rules...</span>
React.Component.mixinRules({
    <span class="hljs-attr">componentWillMount</span> : <span class="hljs-string">'reverse'</span>,
    <span class="hljs-attr">componentDidMount</span> : <span class="hljs-string">'reverse'</span>,
    <span class="hljs-attr">componentWillReceiveProps</span> : <span class="hljs-string">'reverse'</span>,
    <span class="hljs-attr">shouldComponentUpdate</span> : <span class="hljs-string">'some'</span>,
    <span class="hljs-attr">componentWillUpdate</span> : <span class="hljs-string">'reverse'</span>,
    <span class="hljs-attr">componentDidUpdate</span> : <span class="hljs-string">'reverse'</span>,
    <span class="hljs-attr">componentWillUnmount</span> : <span class="hljs-string">'sequence'</span>,
});
</code></pre>
<p>Mixin merge rules can be extented in any subclass using the <code>@mixinRules({ attr : rule })</code> class decorator. Rule is the string from the following list.</p>
<ul>
<li><em>merge</em> - assume property to be an object, which members taken from mixins must be merged.</li>
<li><em>pipe</em> - property is the function <code>( x : T ) =&gt; T</code> transforming the value. Multiple functions joined in pipe.</li>
<li><em>sequence</em> - property is the function. Multiple functions will be called in sequence.</li>
<li><em>reverse</em> - same as <em>sequence</em>, but functions called in reverse sequence.</li>
<li><em>mergeSequence</em> - merge the object returned by functions, executing them in sequence.</li>
<li><em>every</em> - property is the function <code>( ...args : any[] ) =&gt; boolean</code>. Resulting method will return true if every single function returns true.</li>
<li><em>some</em> - same as previous, but method will return true when at least one function returns true.</li>
</ul>
<p>If merge rule is an object, the corresponding member is expected to be an object and the rule defines the merge rules for its members.</p>
<h3 id="usage-example">Usage Example</h3>
<p>Here we adding <a href="http://backbonejs.org/#Events">Events</a> support (on, off, trigger, listenTo, etc.):</p>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { mixins, Events } <span class="hljs-keyword">from</span> <span class="hljs-string">'@type-r/mixture'</span>

<span class="hljs-keyword">const</span> UnsubscribeMixin = {
    componentWillUnmount(){
        <span class="hljs-keyword">this</span>.off();
        <span class="hljs-keyword">this</span>.stopListening();
    }
}

@mixins( Events, UnsubscribeMixin )
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EventedComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="events">Events</h2>
<p>Mixture is an alternative implementation of <a href="http://backbonejs.org/#Events">Backbone API for Events</a> heavily optimized for modern JIT engines. Here&#39;s the results of the typical
run of the <a href="https://github.com/Volicon/mixturejs/tree/master/tests">performance tests</a>.</p>
<p><img src="https://raw.githubusercontent.com/Volicon/mixturejs/master/perf-chart.jpg" alt="performance"></p>
<p>Mixture Events implements the complete semantic and API of <a href="http://backbonejs.org/#Events">Backbone 1.1.x Events</a>, with the following exceptions:</p>
<ul>
<li><code>source.trigger( &#39;ev1 ev2 ev3&#39; )</code> is not supported. Use <code>source.trigger( &#39;ev1&#39; ).trigger( &#39;ev2&#39; ).trigger( &#39;ev3&#39; )</code> instead.</li>
<li><code>source.trigger( &#39;ev&#39;, a, b, ... )</code> doesn&#39;t support more than 5 event parameters.</li>
<li><code>source.on( &#39;ev&#39;, callback )</code> - callback will <em>not</em> be called in the context of <code>source</code> by default.</li>
</ul>
<p>Events passes the BackboneJS tests suite.</p>
<h2 id="logger">Logger</h2>
<p><code>Logger</code> doesn&#39;t compete with your logging libraries, it helps you to utilize them. It works like that.</p>
<p>You write to the logs as shown below:</p>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> { log } <span class="hljs-keyword">from</span> <span class="hljs-string">'@type-r/mixture'</span>

...

log( <span class="hljs-string">'info'</span>, <span class="hljs-string">'feature:and:topic'</span>, textMessage, { someRelatedData, someOtherData, ... });
</code></pre>
<p>What really happens there is that you&#39;re sending an event. There&#39;s a singlton <code>logger</code> acting as a router for log events. There could be many listeners to the log events, and the one which is listening by default is the console listener, so you get pretty standard logging out of box.</p>
<p>However, here&#39;s the list of things you can do which you can&#39;t do with a standard console logging:</p>
<ul>
<li>When you&#39;re writing the unit test,<ul>
<li>you can easily turn console errors and warnings into exceptions, or</li>
<li>you can turn on log event counter to be used in asserts.</li>
</ul>
</li>
<li>You can selectively turn logging off removing the listeners for the specific log levels. <code>Logger</code> does it by default muting all events except <code>error</code> and <code>warn</code> in production build, but you can override that.</li>
<li>You can add as many custom log event listeners as you want, which simplifies replacement of the logging library.</li>
</ul>
<h3 id="turning-off-the-default-logger">Turning off the default logger</h3>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> { logger } <span class="hljs-keyword">from</span> <span class="hljs-string">"@type-r/mixture"</span>

logger.off(); <span class="hljs-comment">// Mute it completely</span>
logger.off( <span class="hljs-string">'warn'</span> ); <span class="hljs-comment">// Mute warn (log levels correspons to the console[level]( msg ))</span>
</code></pre>
<h3 id="selectively-turn-on-logging">Selectively turn on logging</h3>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> { logger } <span class="hljs-keyword">from</span> <span class="hljs-string">"@type-r/mixture"</span>

logger.off().logToConsole( <span class="hljs-string">'error'</span> ).logToConsole( <span class="hljs-string">'warn'</span>, /^myfeature:<span class="hljs-regexp">/ );</span>
</code></pre>
<h3 id="throw-exceptions-on-log-messages">Throw exceptions on log messages</h3>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> { logger } <span class="hljs-keyword">from</span> <span class="hljs-string">"@type-r/mixture"</span>

logger.off().throwOn( <span class="hljs-string">'error'</span> ).throwOn( <span class="hljs-string">'warn'</span>, /^myfeature:<span class="hljs-regexp">/ );</span>
</code></pre>
<h3 id="count-specific-log-messages-by-level">Count specific log messages by level</h3>
<pre><code class="highlight javascript">import { logger } from "@type-r/mixture"

logger.off().count( 'error' ).throwOn( 'warn', /^myfeature:/ );;

....

assert( !logger.counter.errors &amp;&amp; !logger.counter.warn)
</code></pre>
<h3 id="add-a-new-log-event-listener">Add a new log event listener</h3>
<pre><code class="highlight javascript"><span class="hljs-keyword">import</span> { logger } <span class="hljs-keyword">from</span> <span class="hljs-string">"@type-r/mixture"</span>

logger.on( <span class="hljs-string">'error'</span>, ( subject, message, data ) =&gt; {
    <span class="hljs-built_in">console</span>.log( <span class="hljs-string">'There was an error, you know?'</span> );
});
</code></pre>
        </div>
    </div>
  </body>
</html>
